<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymleaf.org">
<head th:replace="~{layout :: head}"></head>
<body class="main-body">
<div th:replace="~{layout :: nav-bar}"></div>
<div class="main-wrapper">
    <div>
        <form method="post" th:action="@{/book/upsert}" th:object="${dto}">
            <input type="hidden" th:field="*{code}">
            <table class="form-table">
                <tbody>
                <tr>
                    <td>
                        <label>code*</label>
                    </td>
                    <td>
                        <input type="text" th:field="*{code}">
                    </td>
                </tr>

                <tr>
                    <td>
                        <label>Title*</label>
                    </td>
                    <td>
                        <input type="text" th:field="*{title}">
                    </td>
                </tr>

                <tr>
                    <td>
                        <label>Category</label>
                    </td>
                    <td>
                        <input type="hidden" name="categoryName" th:value="${categoryName}">
                        <input type="hidden" name="isBorrowed" th:field="*{isBorrowed}"/>
                        <span th:text="${categoryName}" ></span>
                    </td>
                </tr>

                <tr>
                    <td>
                        <label>Author*</label>
                    </td>
                    <td>
                        <select th:field="*{authorId}">
                            <option  th:each="option : ${authorDropdown}"
                                     th:value="${option.value}"
                                     th:text="${option.textContent}">
                            </option>
                        </select>
                    </td>
                </tr>

                <tr>
                    <td>
                        <label>Release Date</label>
                    </td>
                    <td>
                        <input type="date" th:field="*{releaseDate}">
                    </td>
                </tr>

                <tr>
                    <td>
                        <label>Total Page</label>
                    </td>
                    <td>
                        <input type="text" th:field="*{totalPage}">
                    </td>
                </tr>

                <tr>
                    <td>
                        <label>Summary</label>
                    </td>
                    <td>
                        <textarea th:field="*{summary}"></textarea>
                    </td>
                </tr>
                </tbody>
            </table>
            <button type="submit" class="blue-button">Submit Book</button>
            <a th:href="@{/book/detail(categoryName=${categoryName})}" class="blue-button">Back</a>
        </form>
    </div>
</div>
<footer th:replace="~{layout :: footer}">
</footer>
</body>
</html>